<h5 class="trunk-header">Users</h5>
<table class="display" id="usertable">
  <thead>
    <th>Username</th>
    <th>Role</th>
    <th>Actions</th>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user['username'] %></td>
        <td><a href="#"><%= user['role']['rolename'] %></a></td>
        <td>
          <%= link_to('View', user_path(user['id']), class: 'btn btn-info') %>
          <%= link_to('Edit', edit_person_path(user['person']['id']), class: 'btn btn-warning') %>
          <%= link_to('Delete', user_path(user['id']), method: :delete,
                                data: {confirm: 'Are you sure?'}, class: 'btn btn-danger') %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<div class="row">
  <div class="col-sm-7"></div>
  <%= link_to 'Create User', users_new_path, class: 'btn btn-warning col-sm-3', style: 'margin-top: 10px' %>
</div>

<script type="text/javascript" charset="utf8">
$(document).ready( function () {
    $('#usertable').DataTable();
} );

</script>