  <h1 class="trunk-header">Patients</h1>

  <table class="display" id="patients_table">
    <thead>
      <tr class="header">
        <th>First Name</th>
        <th>Last Name</th>
        <th>Gender</th>
        <th>Actions</td>
      </tr>
    </thead>

    <tbody>
      <% 
      @patients.each do |patient| %>
      <tr>
        <td><%= patient['person']['person_name']['firstname'] %></td>
        <td><%= patient['person']['person_name']['lastname'] %></td>
        <td><%= patient['person']['gender'] %></td>
        <td class="actions">
          <%= link_to("Show", patient_path(patient['id']), :class => 'btn btn-info') %>
          <%= link_to('Edit', edit_person_path(patient['person_id']), :class => 'btn btn-warning') %>
          <%= link_to("Delete", patient_path(patient['id']), method: :delete,
                                data: {confirm: 'Sure about this?'}, class: 'btn btn-danger') %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>


  <div class="row">
  <div class="col-sm-7"></div>
  <%= link_to 'Create Patient', patients_new_path, class: 'btn btn-warning col-sm-3', style: 'margin-top: 10px' %>
</div>
  <script type="text/javascript" charset="utf8">
  $(document).ready( function () {
      $('#patients_table').DataTable();
  } );
  
  </script>